INFO:     Started server process [97642]
INFO:     Waiting for application startup.
2026-02-23 08:11:25,039 â”‚ INFO     â”‚ main â”‚ ðŸš€ Starting SuperAgent backendâ€¦
2026-02-23 08:11:25,039 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ConversationService initialisingâ€¦
2026-02-23 08:11:25,039 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ConversationService ready.
2026-02-23 08:11:25,039 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLMService initialised: model=gemini/gemini-2.5-flash, temperature=0.60
2026-02-23 08:11:25,039 â”‚ INFO     â”‚ app.services.base.base_service â”‚ LLMService initialisingâ€¦
2026-02-23 08:11:25,039 â”‚ INFO     â”‚ app.services.base.base_service â”‚ LLMService ready.
2026-02-23 08:11:25,046 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ComposioService initialisingâ€¦
2026-02-23 08:11:25,046 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ComposioService ready.
2026-02-23 08:11:25,046 â”‚ INFO     â”‚ app.services.composio_service â”‚ ComposioService initialised with Tool Router.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ GeminiEmbeddingService initialisingâ€¦
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ GeminiEmbeddingService ready.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.gemini_embedding_service â”‚ GeminiEmbeddingService ready: model=gemini-2.5-flash, dimension=768
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ EmbeddingService initialisingâ€¦
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ EmbeddingService ready.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ChromaDBService initialisingâ€¦
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ChromaDBService ready.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.chromadb_service â”‚ ChromaDBService ready: collection=superagent, embedding_dim=768
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ PDFService initialisingâ€¦
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ PDFService ready.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.pdf_service â”‚ PDFService ready: chunk_size=1000, chunk_overlap=200, max_file_mb=50
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ToolExecutor initialisingâ€¦
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ ToolExecutor ready.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ SuperAgentService initialisingâ€¦
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ app.services.base.base_service â”‚ SuperAgentService ready.
2026-02-23 08:11:25,056 â”‚ INFO     â”‚ main â”‚ âœ… All services ready.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5050 (Press CTRL+C to quit)
INFO:     127.0.0.1:55795 - "WebSocket /chat/ws" [accepted]
2026-02-23 08:11:28,208 â”‚ INFO     â”‚ app.routes.chat â”‚ WebSocket client connected
INFO:     connection open
2026-02-23 08:11:28,486 â”‚ INFO     â”‚ app.routes.chat â”‚ WebSocket client disconnected
INFO:     connection closed
INFO:     127.0.0.1:55806 - "WebSocket /chat/ws" [accepted]
2026-02-23 08:11:30,521 â”‚ INFO     â”‚ app.routes.chat â”‚ WebSocket client connected
INFO:     connection open
2026-02-23 08:11:41,147 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Initialized conversation history manager
2026-02-23 08:11:41,147 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Initialized conversation history manager
2026-02-23 08:11:41,147 â”‚ INFO     â”‚ superagent â”‚ [conversation_service] message=Created conversation 8d20ea8ec1c340008ffb572cfe632747
2026-02-23 08:11:41,147 â”‚ INFO     â”‚ superagent â”‚ [conversation_service] message=Created conversation 8d20ea8ec1c340008ffb572cfe632747
2026-02-23 08:11:41,147 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 2
2026-02-23 08:11:41,147 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 2
2026-02-23 08:11:41,591 â”‚ INFO     â”‚ app.services.composio_service â”‚ Created Tool Router session for user mahit
2026-02-23 08:11:42,184 â”‚ INFO     â”‚ app.services.composio_service â”‚ Retrieved 6 session tools for user mahit (session trs_ml8GybHaZMiA)
2026-02-23 08:11:42,185 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Loaded 6 Tool Router meta tools for user mahit (session trs_ml8GybHaZMiA)
[92m08:11:42 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:11:42,222 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:11:44,744 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 2558.52 ms
2026-02-23 08:11:47,033 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_SEARCH_TOOLS (session trs_ml8GybHaZMiA)
[92m08:11:47 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:11:47,038 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:11:49,825 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 2788.28 ms
2026-02-23 08:11:50,604 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_MANAGE_CONNECTIONS (session trs_ml8GybHaZMiA)
2026-02-23 08:11:50,605 â”‚ INFO     â”‚ app.services.superagent_service â”‚ COMPOSIO_MANAGE_CONNECTIONS result: {
  "data": {
    "message": "All connections have been initiated and are pending completion",
    "results": {
      "gmail": {
        "toolkit": "gmail",
        "status": "initiated",
        "redirect_url": "https://connect.composio.dev/link/lk_ofeqPhjx28pN",
        "instruction": "Action required: Share the following authentication link with the user to complete setup for 'gmail'.\n\nAuthentication Link (render clickable):\nhttps://connect.composio.dev/link/lk_ofeqPhjx28pN\n\nWhat happens next:\n1) User opens the link in their browser. They will see a Composio branded authentication UI.\n2) For OAuth: user authorizes with the provider.\n3) For API/Token auth: User enters the required credentials in the form.\n4) The connection becomes Active automatically once completed.\n\nImportant Notes:\n- DO NOT execute any gmail tools until an Active connection is confirmed.\n- Render as clickable link: [Connect gmail](https://connect.composio.dev/link/lk_ofeqPhjx28pN).\n- The above link expires in 10 minutes.\n",
        "was_reinitiated": false
      },
      "googlecalendar": {
        "toolkit": "googlecalendar",
        "status": "initiated",
        "redirect_url": "https://connect.composio.dev/link/lk_uYLlqLAyl-1Y",
        "instruction": "Action required: Share the following authentication link with the user to complete setup for 'googlecalendar'.\n\nAuthentication Link (render clickable):\nhttps://connect.composio.dev/link/lk_uYLlqLAyl-1Y\n\nWhat happens next:\n1) User opens the link in their browser. They will see a Composio branded authentication UI.\n2) For OAuth: user authorizes with the provider.\n3) For API/Token auth: User enters the required credentials in the form.\n4) The connection becomes Active automatically once completed.\n\nImportant Notes:\n- DO NOT execute any googlecalendar tools until an Active connection is confirmed.\n- Render as clickable link: [Connect googlecalendar](https://connect.composio.dev/link/lk_uYLlqLAyl-1Y).\n- The above link expires in 10 minutes.\n",
        "was_reinitiated": false
      }
    },
    "session": {
      "id": "like",
      "instructions": "REQUIRED: Pass session_id \"like\" in ALL subsequent meta tool calls for this workflow."
    }
  },
  "error": null,
  "log_id": "log_AHWY941Whx2F"
}
2026-02-23 08:11:50,605 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Found redirect_url for toolkit 'gmail': https://connect.composio.dev/link/lk_ofeqPhjx28pN
2026-02-23 08:11:50,605 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Emitting connection_required event: {'toolkit': 'gmail', 'redirect_url': 'https://connect.composio.dev/link/lk_ofeqPhjx28pN', 'message': 'Please connect your gmail to continue. Click the button below to authenticate.'}
2026-02-23 08:11:50,605 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 7
2026-02-23 08:11:50,605 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 7
2026-02-23 08:12:15,655 â”‚ INFO     â”‚ app.routes.chat â”‚ Auth completed for user mahit, conversation 8d20ea8ec1c340008ffb572cfe632747 â€” resuming
2026-02-23 08:12:15,655 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_service] message=Conversation 8d20ea8ec1c340008ffb572cfe632747 already exists, reusing.
2026-02-23 08:12:15,655 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_service] message=Conversation 8d20ea8ec1c340008ffb572cfe632747 already exists, reusing.
2026-02-23 08:12:15,655 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 8
2026-02-23 08:12:15,655 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 8
2026-02-23 08:12:16,036 â”‚ INFO     â”‚ app.services.composio_service â”‚ Created Tool Router session for user mahit
2026-02-23 08:12:16,490 â”‚ INFO     â”‚ app.services.composio_service â”‚ Retrieved 6 session tools for user mahit (session trs_ml8GybHaZMiA)
2026-02-23 08:12:16,491 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Loaded 6 Tool Router meta tools for user mahit (session trs_ml8GybHaZMiA)
[92m08:12:16 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:16,493 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:19,678 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 3186.72 ms
2026-02-23 08:12:22,834 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_SEARCH_TOOLS (session trs_ml8GybHaZMiA)
[92m08:12:22 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:22,839 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:26,359 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 3521.30 ms
2026-02-23 08:12:26,848 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_MANAGE_CONNECTIONS (session trs_ml8GybHaZMiA)
2026-02-23 08:12:26,849 â”‚ INFO     â”‚ app.services.superagent_service â”‚ COMPOSIO_MANAGE_CONNECTIONS result: {
  "data": {
    "message": "All connections have been initiated and are pending completion",
    "results": {
      "googlecalendar": {
        "toolkit": "googlecalendar",
        "status": "initiated",
        "redirect_url": "https://connect.composio.dev/link/lk_-TKgLJKie6Gq",
        "instruction": "Action required: Share the following authentication link with the user to complete setup for 'googlecalendar'.\n\nAuthentication Link (render clickable):\nhttps://connect.composio.dev/link/lk_-TKgLJKie6Gq\n\nWhat happens next:\n1) User opens the link in their browser. They will see a Composio branded authentication UI.\n2) For OAuth: user authorizes with the provider.\n3) For API/Token auth: User enters the required credentials in the form.\n4) The connection becomes Active automatically once completed.\n\nImportant Notes:\n- DO NOT execute any googlecalendar tools until an Active connection is confirmed.\n- Render as clickable link: [Connect googlecalendar](https://connect.composio.dev/link/lk_-TKgLJKie6Gq).\n- The above link expires in 10 minutes.\n",
        "was_reinitiated": false
      }
    },
    "session": {
      "id": "like",
      "instructions": "REQUIRED: Pass session_id \"like\" in ALL subsequent meta tool calls for this workflow."
    }
  },
  "error": null,
  "log_id": "log_iJbCrSJDjmUb"
}
2026-02-23 08:12:26,850 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Found redirect_url for toolkit 'googlecalendar': https://connect.composio.dev/link/lk_-TKgLJKie6Gq
2026-02-23 08:12:26,850 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Emitting connection_required event: {'toolkit': 'googlecalendar', 'redirect_url': 'https://connect.composio.dev/link/lk_-TKgLJKie6Gq', 'message': 'Please connect your googlecalendar to continue. Click the button below to authenticate.'}
2026-02-23 08:12:26,850 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 13
2026-02-23 08:12:26,850 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 13
2026-02-23 08:12:44,271 â”‚ INFO     â”‚ app.routes.chat â”‚ Auth completed for user mahit, conversation 8d20ea8ec1c340008ffb572cfe632747 â€” resuming
2026-02-23 08:12:44,271 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_service] message=Conversation 8d20ea8ec1c340008ffb572cfe632747 already exists, reusing.
2026-02-23 08:12:44,271 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_service] message=Conversation 8d20ea8ec1c340008ffb572cfe632747 already exists, reusing.
2026-02-23 08:12:44,271 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 14
2026-02-23 08:12:44,271 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 14
2026-02-23 08:12:44,617 â”‚ INFO     â”‚ app.services.composio_service â”‚ Created Tool Router session for user mahit
2026-02-23 08:12:45,069 â”‚ INFO     â”‚ app.services.composio_service â”‚ Retrieved 6 session tools for user mahit (session trs_ml8GybHaZMiA)
2026-02-23 08:12:45,069 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Loaded 6 Tool Router meta tools for user mahit (session trs_ml8GybHaZMiA)
[92m08:12:45 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:45,072 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:48,951 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 3881.32 ms
2026-02-23 08:12:51,688 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_SEARCH_TOOLS (session trs_ml8GybHaZMiA)
[92m08:12:51 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:51,693 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:55,999 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 4306.56 ms
2026-02-23 08:12:56,976 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_MULTI_EXECUTE_TOOL (session trs_ml8GybHaZMiA)
[92m08:12:56 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:12:56,981 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:13:02,075 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 5096.19 ms
2026-02-23 08:13:03,912 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_MULTI_EXECUTE_TOOL (session trs_ml8GybHaZMiA)
[92m08:13:03 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:13:03,915 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:13:08,606 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 4692.81 ms
2026-02-23 08:13:08,607 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 21
2026-02-23 08:13:08,607 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 21
2026-02-23 08:15:14,173 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_service] message=Conversation 8d20ea8ec1c340008ffb572cfe632747 already exists, reusing.
2026-02-23 08:15:14,173 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_service] message=Conversation 8d20ea8ec1c340008ffb572cfe632747 already exists, reusing.
2026-02-23 08:15:14,173 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 22
2026-02-23 08:15:14,173 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added user message to history. Current length: 22
2026-02-23 08:15:14,653 â”‚ INFO     â”‚ app.services.composio_service â”‚ Created Tool Router session for user mahit
2026-02-23 08:15:15,150 â”‚ INFO     â”‚ app.services.composio_service â”‚ Retrieved 6 session tools for user mahit (session trs_ml8GybHaZMiA)
2026-02-23 08:15:15,150 â”‚ INFO     â”‚ app.services.superagent_service â”‚ Loaded 6 Tool Router meta tools for user mahit (session trs_ml8GybHaZMiA)
[92m08:15:15 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:15:15,153 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:15:19,734 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 4582.70 ms
2026-02-23 08:15:20,518 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_MULTI_EXECUTE_TOOL (session trs_ml8GybHaZMiA)
[92m08:15:20 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:15:20,522 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:15:24,503 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 3982.84 ms
2026-02-23 08:15:26,307 â”‚ INFO     â”‚ app.services.composio_service â”‚ Executed session meta tool COMPOSIO_MULTI_EXECUTE_TOOL (session trs_ml8GybHaZMiA)
[92m08:15:26 - LiteLLM:INFO[0m: utils.py:3895 - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:15:26,311 â”‚ INFO     â”‚ LiteLLM â”‚ 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2026-02-23 08:15:30,601 â”‚ INFO     â”‚ app.services.llm_service â”‚ LLM batch response time: 4291.43 ms
2026-02-23 08:15:30,602 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 27
2026-02-23 08:15:30,602 â”‚ DEBUG    â”‚ superagent â”‚ [conversation_history] message=Added assistant message to history. Current length: 27
2026-02-23 08:16:15,158 â”‚ INFO     â”‚ app.routes.chat â”‚ WebSocket client disconnected
INFO:     connection closed
